<!DOCTYPE html>
<html>
<head>
    <title>chat</title>
</head>
<body>
<form>
    <textarea id="send-message"></textarea>
    <button id="send" type="button">Send</button>
    <textarea id="received-message"></textarea>
</form>
<script>
    var connection = new WebSocket('ws://localhost:8080');

    // When the connection is open, send some data to the server
    connection.onopen = function () {
        connection.send('Ping'); // Send the message 'Ping' to the server
    };

    // Log errors
    connection.onerror = function (error) {
        console.log('WebSocket Error ' + error);
    };

    // Log messages from the server
    connection.onmessage = function (e) {
        console.log('Server: ' + e.data);
    };

    // Listen for socket closes
    connection.onclose = function(event) {
        console.log('Client notified socket has closed',event);
    };

    function send(msg) {
        connection.send(msg);
    }

    function receive(msg) {
        document.getElementById('received-message').value = msg;
    }

    document.getElementById('send').addEventListener('click', function () {
        console.log(document.getElementById('send-message').value);
        send(document.getElementById('send-message').value);
    });
</script>
</body>
</html>
