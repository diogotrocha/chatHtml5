<!DOCTYPE html>
<html>
<head>
    <title>chat</title>
</head>
<body>
<form>
    <textarea id="send-message"></textarea>
    <button id="send" type="button">Send</button>
    <textarea id="received-message"></textarea>
</form>
<script src="node_modules/socket.io/node_modules/socket.io-client/dist/socket.io.js"></script>
<script>

    // Create SocketIO instance, connect
    /*var socket = new io.Socket('localhost',{
        port: 8080
    });*/

    var socket = io.connect('http://localhost:8080/');
    /*socket.on('connect', function () {
        socket.on('message', receive);
    });*/

    // Add a connect listener
    socket.on('connect',function() {
        console.log('Client has connected to the server!');
    });
    // Add a connect listener
    socket.on('message',function(msg) {
        console.log('Received a message from the server!', msg);
        receive(msg);
    });
    // Add a disconnect listener
    socket.on('disconnect',function() {
        console.log('The client has disconnected!');
    });


    function sendMessage(msg) {
        socket.send(msg);
    }

    function receive(msg) {
        document.getElementById('received-message').value = msg;
    }

    document.getElementById('send').addEventListener('click', function () {
        console.log(document.getElementById('send-message').value);
        sendMessage(document.getElementById('send-message').value);
    });
</script>
</body>
</html>
